sdk:
  - stable
  - dev

stages:
  - analyze_and_format:
      - group:
          - format
          - analyze: --fatal-infos .
  - unit_test:
      - group:
          - command: dart --version
          - test:
          # TODO(dnys1): DDC tests will fail right now due to ongoing staticInterop changes. These should not
          # be an issue for end users since they are related to staticInterop across packages.
          # Issue: https://github.com/dart-lang/sdk/issues/49301
          # - command: dart run build_runner test --delete-conflicting-outputs -- -p chrome,firefox
          - command: dart run build_runner test --release --delete-conflicting-outputs -- -p chrome,firefox
